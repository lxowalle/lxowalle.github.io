# 语音关键字识别

目标：

1. 实现特定关键词识别
2. 任意关键词唤醒
3. 连续数字识别

基本过程:

1. 录制关键词数据集
2. 训练，验证
3. 部署到BL808上

前期疑问：

1. 真实情况下人说出关键词语句时长较短，例如"开机"语句的时间不到1s，因此需要确认多长的滤波器组能保证识别率

    从部分论文来看，采用每10ms提取一次39维度的梅尔滤波器组，关键词约0.5~1.5s，连续多次计算通过后认为关键词匹配。现在就需要评估一下模型的运行时间了，不能太慢。

2. 数据集如何制作？目前是想把所有同一类的词语放到一个音频文件内并制作梅尔滤波器组，但是由于连续的关键词中间会有一些空隙，可能会降低通过率

    使用双门限法找到语音的端点（起始和结束点）

3. 对于"开灯"，"关灯"这类语音，则在训练时遇到"开"字时不能区分是"开灯"还是"关灯"

    试试只识别一个字？ 

#### 训练方案

##### 1.1 方案1-基于神经网络分类

生成基本数据集

- 5+1分类："矽"，"速"，"开"，"关"，"灯"
- 机翻汉字语音，并进行音调随机修改，生成多个样板；机翻效果可以的话，再录入汉字语音，并进行音调随机修改，生成多个样板

编写预处理程序，并制作数据集

- 按预加重、分帧、加窗、端点检测、特征提取、保存为MFCC数据集

设计模型并训练

- 4层卷积+平均池化+2层(2x200)全连接+softmax

验证原始模型、量化模型

- 

部署并验证

##### 1.2 方案2-基于隐马尔科夫模型的补白模型

> 补白模型有时也被称为垃圾模型，它将Keyword Spotting问题考虑为一个逐帧的序列标注问题。它对每一个关键词建立一个隐马尔可夫模型，对非关键词额外建立一个隐马尔可夫模型，观测概率通过混合高斯或神经网络建模。

由于隐马尔科夫模型相对更复杂，在实现任意关键词识别时再研究

#### 制作数据集





参考文献：

[语音关键词检测方法综述](https://mp.weixin.qq.com/s/c-lQETCPQTztZjV4TYTsZA)

[隐马尔可夫模型攻略](https://cloud.tencent.com/developer/article/1058352?from=article.detail.1888054) 待看

[隐马尔科夫模型](https://cloud.tencent.com/developer/article/1888054?from=article.detail.1588505) 待看

[后验概率图与补白模型二次融合的关键词识别](https://www.zjujournals.com/eng/article/2020/1008-973X/202006014.shtml)