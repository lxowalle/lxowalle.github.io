---
title: v831使用记录
date: 2021-09-10 10:19:13
categories: "none class"
tags:
---
# v831使用记录

#### 一、常用命令

- 查询vi命令

```
cat /sys/kernel/debug/mpp/vi
```

- 通过shell操作PWM

```
# 查看PWM状态
cat /sys/kernel/debug/pwm
# 设置PWM
echo 9 > /sys/class/pwm/pwmchip0/export && echo 100000 > /sys/class/pwm/pwmchip0/pwm9/period && echo 20000 > /sys/class/pwm/pwmchip0/pwm9/duty_cycle && echo 1 > /sys/class/pwm/pwmchip0/pwm9/enable
```

- 读/写寄存器值

```
# 读
echo 0x0300B074 > /sys/class/sunxi_dump/dump			# 0x0300B074 表示寄存器地址
cat /sys/class/sunxi_dump/dump

# 写

```

- 编译83x系统镜像后导出设备树

```
cd sdk/out/v833-perf1
dd if=./image/sunxi.dtb of=sipeed.dtb bs=72k count=1 conv=sync
```

- 通过shell让lcd显示图片

```
# 参数1可以修改为1，2，3，4等等
echo 1 > /sys/class/disp/disp/attr/colorbar
# 恢复原图
echo 0 > /sys/class/disp/disp/attr/colorbar
```

- 以hex格式打印数据

```
hexdump ./sys/kernel/debug/dispdbg/start
```
